#!/usr/bin/env ruby

require 'bundler/setup'
Bundler.require
require 'pry'

@loader = Zeitwerk::Loader.new
@loader.push_dir 'lib'
core_ext = "#{__dir__}/lib/core_ext/"
@loader.ignore core_ext

@loader.enable_reloading
@loader.setup

# Require core_ext files
Dir['./lib/core_ext/**/*.rb'].each { |file| require file }

def reload!
  @loader.reload
end

ARGV.clear
Pry.start
